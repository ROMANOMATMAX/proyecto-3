openapi: 3.0.0
info:
  title: Delila Rest√≥
  description: Servicio para un ecommerce de comida
  contact: 
    name: reptyl
    url: reptyl.com
  version: 1.0.0
servers: 
  # Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/romanomatias99/2delilaresto2/1.0.0
  - url: http://localhost:3050
paths: 
  /user/all:
      get:
        summary: Get all users
        description: Allows to an Admin list all users
        responses: 
          200:
            description: Success response
            content: 
              application/json:
                schema: 
                  type: array
                  items: 
                    $ref: '#/components/schemas/user'
        parameters:
        - in: header
          name: x-access-token
          description: Token que se provee a un usuario Admin luego de loguearse
          schema:
            type: string
          required: true

  /user/signin:
    post:
      summary: "User logging"
      requestBody:
        description: "For logging you need email and password"
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/user"
      responses:
        200:
          description: Success response
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: boolean
                    description: Boolean that describe the status of the request.
                  message:
                    type: string
                    description: message the describes the error or show the user token. 
        
components:
  schemas:
    user:
      type: "object" 
      properties: 
        id:
          type: "integer"
        username:
          type: "string"       
        fullname:
          type: "string"
        email:
          type: "string"
        phone:
          type: "string"
        address:
          type: "string"
        password:
          type: "string"
        token:
          type: "string"
        role: 
          type: "string"
  
    product:
      type: "object"
      properties:
        id:
          type: "integer" 
        name:
          type: "string"
        description:
          type: "string"
        price:
          type: "number"
        photo:
          type: "string" 
  
    order: 
      type: "object"
      properties:
        id:
          type: "integer"
        user_id:
          type: "integer"
        creation_date:
          type: "string"
        payment_kind :
          type: "string"
        total_amount:
          type: "number"
        status:
          type: "string"
    
    orderANDproduct: 
      type: "object"
      properties:
        id:
          type: "integer"
        order_id:
          type: "integer"
        product_id:
          type: "integer"
        
  securitySchemes:
    api_key:
      type: apiKey
      name: api_key
      in: header